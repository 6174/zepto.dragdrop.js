(function(e){"use strict";function i(i){var s,o,u;return t||(u=e(this),s=u.offset(),o=parseInt(u.css("z-index"),10),u.css("z-index",o+1),u.data(s),n.revert&&!u.data("revert")&&u.data({rtop:s.top,rleft:s.left,revert:n.revert}),r.trigger("dragstart",[i,u]),n.beforeDrag&&n.beforeDrag.call(r,u),t=u),!1}function s(e){return t&&(e.el=t,t.css("z-index",1),r.trigger("dragend",[e,t]),n.afterDrag&&n.afterDrag.call(r,t),t=null),!1}function o(e){if(t&&e.targetTouches.length>0){var n=e.targetTouches[0];a(n.pageX,n.pageY)}return!1}function u(e){return t&&a(e.pageX,e.pageY),!1}function a(e,n){var r=t.height(),i=t.width(),s=f(),o=e-i/s,u=n-r/s;t.css({left:o,top:u})}function f(){var e=t.data("width"),n=t.width();return e>n?2*e/n:2*n/e}var t,n,r;e.fn.draggable=function(t){var s=e.touchable?"touchstart":"mousedown";return n=t||{},r=n.context?n.context:e(this),this.each(function(){n.selector?e(this).on(s,n.selector,i):e(this).on(s,i)})},e(function(){e.touchable?e(document).on({touchmove:o,touchend:s}):e(document).on({mousemove:u,mouseup:s})})})(Zepto),function(e){"use strict";function r(e,n){var r=t.offset();return e>=r.left&&e<=r.left+r.width&&n>=r.top&&n<=r.top+r.height}function i(e,t,n){r(t,n)?u(e,t,n):e.el.data("revert")&&a(e.el)}function s(e){if(t&&e.el&&e.changedTouches.length==1){var n=e.changedTouches[0];i(e,n.pageX,n.pageY)}return!1}function o(e){return t&&e.el&&i(e,e.pageX,e.pageY),!1}function u(r,i,s){var o=!0,u=r.el;u.css({display:"none"});var f=e(document.elementFromPoint(i,s));u.css({display:"block"}),n.selector&&!f.hasClass(n.selector)&&(o=!1),o&&n.drop&&(o&=n.drop.call(t,r,u,e(f))),!o&&u.data("revert")&&a(u)}function a(t){var n=t.data("rleft"),r=t.data("rtop"),i=t.data("revert");e.isFunction(i)&&i.call(t),t.css({left:n,top:r})}var t,n;e.fn.droppable=function(e){n=e||{},t=this},e(function(){e.touchable?e(document).on("touchend",s):e(document).on("mouseup",o)})}(Zepto),function(e){function s(s,u){var a=s[i],f=a&&t[a];if(u===undefined)return f||o(s);if(f){if(u in f)return f[u];var l=r(u);if(l in f)return f[l]}return n.call(e(s),u)}function o(n,s,o){var a=n[i]||(n[i]=++e.uuid),f=t[a]||(t[a]=u(n));return s!==undefined&&(f[r(s)]=o),f}function u(t){var n={};return e.each(t.attributes,function(e,t){t.name.indexOf("data-")===0&&(n[r(t.name.replace("data-",""))]=t.value)}),n}var t={},n=e.fn.data,r=e.zepto.camelize,i=e.expando="Zepto"+ +(new Date);e.fn.data=function(t,n){return n===undefined?e.isPlainObject(t)?this.each(function(n,r){e.each(t,function(e,t){o(r,e,t)})}):this.length===0?undefined:s(this[0],t):this.each(function(){o(this,t,n)})},e.fn.removeData=function(n){return typeof n=="string"&&(n=n.split(/\s+/)),this.each(function(){var s=this[i],o=s&&t[s];o&&e.each(n,function(){delete o[r(this)]})})}}(Zepto)(function(e){"use strict";e.touchable=function(){return"ontouchstart"in window}()})(Zepto);